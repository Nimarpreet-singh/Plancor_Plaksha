<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Plancor - Home Decor from Agro-Waste</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css">
  
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar">
    <div class="logo">
      <h1><span class="eco">Plancor</h1>
    </div>
    <div class="nav-links">
      <a href="index.html" class="active">Home</a>
      <a href="products.html">Products</a>
      <a href="farmer.html">Farmers</a>
      <a href="sustainability.html">Sustainability</a>
      <a href="contactus.html">Contact</a>
    </div>
    <div class="nav-icons">
      <a href="#"><i class="fas fa-search"></i></a>
      <a href="#"><i class="fas fa-shopping-cart"></i></a>
      <a href="#"><i class="fas fa-user"></i></a>
    </div>
    <div class="hamburger">
      <div class="bar"></div>
      <div class="bar"></div>
      <div class="bar"></div>
    </div>
  </nav>

  <!-- Hero Section with Scroll Animations -->

  
  <!-- navbar cartttt  -->
  <section class="hero-section" id="heroSection">
    <div class="hero-content">
      <h1 data-aos="fade-up" data-aos-duration="1000">Transform Your Space With <span>Sustainable Style</span></h1>
      <p data-aos="fade-up" data-aos-duration="1000" data-aos-delay="200">
        Beautiful home decor crafted from upcycled agricultural waste
      </p>
      <div class="hero-cta" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="400">
        <button class="upload-btn" id="triggerUpload">Find Your Match</button>
        <button class="browse-btn">Browse Collections</button>
      </div>
    </div>
    <div class="scroll-indicator">
      <span>Scroll to Explore</span>
      <i class="fas fa-chevron-down bounce"></i>
    </div>
    <div class="hero-background">
      <div class="shape shape-1"></div>
      <div class="shape shape-2"></div>
      <div class="shape shape-3"></div>
    </div>
  </section>

  <!-- Parallax Story Section -->
  <section class="story-section" id="storySection">
    <div class="story-container">
      <div class="story-element" data-speed="0.3">
        <h2>From Farm Waste to Home Treasure</h2>
        <p>We transform agricultural by-products that would otherwise be burned into beautiful, functional pieces for your home.</p>
      </div>
      <div class="story-image" data-speed="0.1"></div>
      <div class="floating-items">
        <div class="float-item float-1" data-speed="0.05">Rice Husks</div>
        <div class="float-item float-2" data-speed="0.08">Coconut Shells</div>
        <div class="float-item float-3" data-speed="0.06">Bamboo Waste</div>
        <div class="float-item float-4" data-speed="0.07">Wheat Straw</div>
      </div>
    </div>
  </section>

  <!-- Color Match Section -->
  <section class="color-match-section" id="colorMatchSection">
    <div class="color-wheel">
      <div class="wheel-segment red-segment"></div>
      <div class="wheel-segment blue-segment"></div>
      <div class="wheel-segment white-segment"></div>
    </div>
    <div class="match-text">
      <h2>Find Your Perfect Color Match</h2>
      <p>Upload an image of your space and we'll recommend products that complement your existing decor.</p>
      <div class="upload-container">
        <input type="file" id="imageInput" accept="image/*" hidden />
        <button class="upload-big-btn" id="uploadBtn">Upload Your Image</button>
      </div>
    </div>
  </section>

  <!-- Results Section (Initially Hidden) -->
  <section class="results-section" id="resultsSection">
    <div class="container">
      <!-- Upload Section -->
      <div class="upload-section">
        <h2>Find More Matches</h2>
        <input type="file" id="imageInputResults" accept="image/*" />
        <button id="getRecommendationsBtn">Get Recommendations</button>
      </div>
      
      <!-- Preview and Results -->
      <div class="results" id="results">
        <!-- The uploaded image preview, prediction info, and product cards will be injected here -->
      </div>
    </div>
  </section>

  <!-- Benefits Section -->
  <section class="benefits-section" id="benefitsSection">
    <h2 data-aos="fade-up">Why Choose <span class="eco">Eco</span>Decor?</h2>
    <div class="benefits-container">
      <div class="benefit-card" data-aos="fade-up" data-aos-delay="100">
        <div class="benefit-icon">
          <i class="fas fa-leaf"></i>
        </div>
        <h3>Eco-Friendly</h3>
        <p>Every product diverts agricultural waste from being burned, reducing air pollution and carbon emissions.</p>
      </div>
      <div class="benefit-card" data-aos="fade-up" data-aos-delay="200">
        <div class="benefit-icon">
          <i class="fas fa-users"></i>
        </div>
        <h3>Community Support</h3>
        <p>We partner with rural artisans, providing sustainable livelihoods and preserving traditional crafts.</p>
      </div>
      <div class="benefit-card" data-aos="fade-up" data-aos-delay="300">
        <div class="benefit-icon">
          <i class="fas fa-palette"></i>
        </div>
        <h3>Unique Design</h3>
        <p>Each piece has natural variations in texture and color, making your home decor truly one-of-a-kind.</p>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-content">
      <div class="footer-column">
        <h3><span class="eco"></span>Plancor</h3>
        <p>Beautiful, sustainable home decor crafted from agricultural waste.</p>
        <div class="social-icons">
          <a href="#"><i class="fab fa-facebook-f"></i></a>
          <a href="#"><i class="fab fa-instagram"></i></a>
          <a href="#"><i class="fab fa-pinterest-p"></i></a>
          <a href="#"><i class="fab fa-twitter"></i></a>
        </div>
      </div>
      <div class="footer-column">
        <h4>Shop</h4>
        <a href="#">All Products</a>
        <a href="#">New Arrivals</a>
        <a href="#">Best Sellers</a>
        <a href="#">Sale</a>
      </div>
      <div class="footer-column">
        <h4>About</h4>
        <a href="#">Our Story</a>
        <a href="#">Sustainability</a>
        <a href="#">Artisans</a>
        <a href="#">Blog</a>
      </div>
      <div class="footer-column">
        <h4>Help</h4>
        <a href="#">Shipping & Returns</a>
        <a href="#">FAQ</a>
        <a href="#">Contact Us</a>
        <a href="#">Privacy Policy</a>
      </div>
    </div>
    <div class="footer-bottom">
      <p>Â© 2025 Plancor. All rights reserved.</p>
    </div>
  </footer>

  <!-- External Libraries -->
  <script>// Cart functionality with local storage
    const ShoppingCart = {
      // Initialize the cart
      init: function() {
        this.setupCartIcon();
        this.setupCartModal();
        this.updateCartBadge();
        this.bindEvents();
      },
    
      // Get cart items from local storage
      getCartItems: function() {
        return JSON.parse(localStorage.getItem('cartItems')) || [];
      },
    
      // Save cart items to local storage
      saveCartItems: function(items) {
        localStorage.setItem('cartItems', JSON.stringify(items));
      },
    
      // Add an item to the cart
      addToCart: function(product) {
        const cartItems = this.getCartItems();
        
        // Check if product already exists in cart
        const existingProductIndex = cartItems.findIndex(item => item.id === product.id);
        
        if (existingProductIndex > -1) {
          // Increase quantity if product already in cart
          cartItems[existingProductIndex].quantity += 1;
        } else {
          // Add new product to cart
          cartItems.push({
            id: product.id,
            name: product.name,
            price: product.price,
            image: product.image || 'default-product.jpg',
            quantity: 1
          });
        }
        
        this.saveCartItems(cartItems);
        this.updateCartBadge();
        this.updateCartModal();
        
        return cartItems.length;
      },
    
      // Remove an item from the cart
      removeFromCart: function(productId) {
        let cartItems = this.getCartItems();
        cartItems = cartItems.filter(item => item.id !== productId);
        this.saveCartItems(cartItems);
        this.updateCartBadge();
        this.updateCartModal();
      },
    
      // Update quantity of an item in the cart
      updateQuantity: function(productId, quantity) {
        const cartItems = this.getCartItems();
        const item = cartItems.find(item => item.id === productId);
        
        if (item) {
          item.quantity = parseInt(quantity);
          if (item.quantity <= 0) {
            this.removeFromCart(productId);
          } else {
            this.saveCartItems(cartItems);
            this.updateCartModal();
          }
        }
        
        this.updateCartBadge();
      },
    
      // Calculate total items in cart
      getTotalItems: function() {
        const cartItems = this.getCartItems();
        return cartItems.reduce((total, item) => total + item.quantity, 0);
      },
    
      // Calculate total price of items in cart
      getTotalPrice: function() {
        const cartItems = this.getCartItems();
        return cartItems.reduce((total, item) => {
          const price = parseFloat(item.price.replace('$', ''));
          return total + (price * item.quantity);
        }, 0);
      },
    
      // Update the cart badge counter
      updateCartBadge: function() {
        const cartIcon = document.querySelector('.nav-icons a:nth-child(2)');
        
        if (cartIcon) {
          let cartBadge = cartIcon.querySelector('.cart-badge');
          const totalItems = this.getTotalItems();
          
          if (!cartBadge) {
            cartBadge = document.createElement('span');
            cartBadge.className = 'cart-badge';
            cartIcon.style.position = 'relative';
            cartIcon.appendChild(cartBadge);
          }
          
          // Style the badge
          cartBadge.style.position = 'absolute';
          cartBadge.style.top = '-10px';
          cartBadge.style.right = '-10px';
          cartBadge.style.backgroundColor = 'var(--primary-color)';
          cartBadge.style.color = 'white';
          cartBadge.style.borderRadius = '50%';
          cartBadge.style.width = '20px';
          cartBadge.style.height = '20px';
          cartBadge.style.display = 'flex';
          cartBadge.style.justifyContent = 'center';
          cartBadge.style.alignItems = 'center';
          cartBadge.style.fontSize = '12px';
          
          // Show or hide badge based on cart items
          if (totalItems > 0) {
            cartBadge.textContent = totalItems;
            cartBadge.style.display = 'flex';
          } else {
            cartBadge.style.display = 'none';
          }
        }
      },
    
      // Setup the cart icon click behavior
      setupCartIcon: function() {
        const cartIcon = document.querySelector('.nav-icons a:nth-child(2)');
        
        if (cartIcon) {
          cartIcon.addEventListener('click', (e) => {
            e.preventDefault();
            this.toggleCartModal();
          });
        }
      },
    
      // Create and setup the cart modal
      setupCartModal: function() {
        // Create cart modal if it doesn't exist
        if (!document.getElementById('cartModal')) {
          const modalHTML = `
            <div id="cartModal" class="cart-modal">
              <div class="cart-content">
                <div class="cart-header">
                  <h2>Your Shopping Cart</h2>
                  <button class="close-cart">&times;</button>
                </div>
                <div class="cart-items">
                  <!-- Cart items will be dynamically inserted here -->
                </div>
                <div class="cart-footer">
                  <div class="cart-total">Total: $<span id="cartTotal">0.00</span></div>
                  <button class="checkout-btn">Checkout</button>
                  <button class="continue-shopping">Continue Shopping</button>
                </div>
              </div>
            </div>
          `;
          
          document.body.insertAdjacentHTML('beforeend', modalHTML);
          
          // Add CSS for the cart modal
          const style = document.createElement('style');
          style.textContent = `
            .cart-modal {
              display: none;
              position: fixed;
              top: 0;
              left: 0;
              width: 100%;
              height: 100%;
              background-color: rgba(0, 0, 0, 0.5);
              z-index: 1000;
              justify-content: center;
              align-items: flex-start;
              padding-top: 80px;
            }
            
            .cart-content {
              background-color: white;
              width: 90%;
              max-width: 600px;
              border-radius: 8px;
              box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
              overflow: hidden;
              max-height: 80vh;
              display: flex;
              flex-direction: column;
            }
            
            .cart-header {
              display: flex;
              justify-content: space-between;
              align-items: center;
              padding: 15px 20px;
              border-bottom: 1px solid #eee;
              background-color: var(--primary-color, #4CAF50);
              color: white;
            }
            
            .cart-header h2 {
              margin: 0;
              font-size: 1.5rem;
            }
            
            .close-cart {
              background: none;
              border: none;
              font-size: 1.8rem;
              cursor: pointer;
              color: white;
            }
            
            .cart-items {
              padding: 20px;
              overflow-y: auto;
              flex: 1;
            }
            
            .cart-item {
              display: flex;
              margin-bottom: 15px;
              padding-bottom: 15px;
              border-bottom: 1px solid #eee;
              position: relative;
            }
            
            .cart-item-image {
              width: 80px;
              height: 80px;
              object-fit: cover;
              margin-right: 15px;
              border-radius: 4px;
            }
            
            .cart-item-details {
              flex: 1;
            }
            
            .cart-item-title {
              font-weight: bold;
              margin-bottom: 5px;
            }
            
            .cart-item-price {
              color: #666;
              margin-bottom: 10px;
            }
            
            .quantity-control {
              display: flex;
              align-items: center;
            }
            
            .quantity-btn {
              width: 28px;
              height: 28px;
              background-color: #f1f1f1;
              border: none;
              border-radius: 4px;
              cursor: pointer;
              font-weight: bold;
            }
            
            .quantity-input {
              width: 40px;
              text-align: center;
              margin: 0 8px;
              border: 1px solid #ddd;
              border-radius: 4px;
              padding: 4px;
            }
            
            .remove-item {
              position: absolute;
              right: 0;
              top: 0;
              background: none;
              border: none;
              color: #999;
              cursor: pointer;
              font-size: 1.2rem;
            }
            
            .cart-footer {
              padding: 15px 20px;
              border-top: 1px solid #eee;
              background-color: #f9f9f9;
            }
            
            .cart-total {
              font-size: 1.2rem;
              font-weight: bold;
              margin-bottom: 15px;
            }
            
            .checkout-btn, .continue-shopping {
              padding: 10px 15px;
              border: none;
              border-radius: 4px;
              cursor: pointer;
              font-weight: bold;
              margin-right: 10px;
            }
            
            .checkout-btn {
              background-color: var(--primary-color, #4CAF50);
              color: white;
            }
            
            .continue-shopping {
              background-color: #f1f1f1;
              color: #333;
            }
            
            .empty-cart-message {
              text-align: center;
              padding: 30px 0;
              color: #888;
            }
            
            @keyframes pulse {
              0% { transform: scale(1); }
              50% { transform: scale(1.2); }
              100% { transform: scale(1); }
            }
            
            @media (max-width: 600px) {
              .cart-content {
                width: 95%;
              }
              
              .cart-item {
                flex-direction: column;
              }
              
              .cart-item-image {
                width: 100%;
                height: auto;
                margin-bottom: 10px;
              }
            }
          `;
          
          document.head.appendChild(style);
          
          // Set up close button and overlay click
          const modal = document.getElementById('cartModal');
          const closeBtn = modal.querySelector('.close-cart');
          const continueBtn = modal.querySelector('.continue-shopping');
          
          closeBtn.addEventListener('click', () => {
            this.closeCartModal();
          });
          
          continueBtn.addEventListener('click', () => {
            this.closeCartModal();
          });
          
          modal.addEventListener('click', (e) => {
            if (e.target === modal) {
              this.closeCartModal();
            }
          });
          
          // Setup checkout button
          const checkoutBtn = modal.querySelector('.checkout-btn');
          checkoutBtn.addEventListener('click', () => {
            alert('Proceeding to checkout...');
            // Here you would redirect to checkout page
            // window.location.href = '/checkout.html';
          });
        }
        
        // Update cart content with current items
        this.updateCartModal();
      },
      
      // Toggle the cart modal visibility
      toggleCartModal: function() {
        const modal = document.getElementById('cartModal');
        
        if (modal.style.display === 'flex') {
          this.closeCartModal();
        } else {
          this.openCartModal();
        }
      },
      
      // Open the cart modal
      openCartModal: function() {
        const modal = document.getElementById('cartModal');
        modal.style.display = 'flex';
        
        // Update cart content when opening
        this.updateCartModal();
        
        // Prevent body scrolling
        document.body.style.overflow = 'hidden';
      },
      
      // Close the cart modal
      closeCartModal: function() {
        const modal = document.getElementById('cartModal');
        modal.style.display = 'none';
        
        // Re-enable body scrolling
        document.body.style.overflow = '';
      },
      
      // Update the cart modal content
      updateCartModal: function() {
        const cartItems = this.getCartItems();
        const cartItemsContainer = document.querySelector('.cart-items');
        const cartTotal = document.getElementById('cartTotal');
        
        if (cartItemsContainer) {
          if (cartItems.length === 0) {
            cartItemsContainer.innerHTML = '<div class="empty-cart-message">Your cart is empty</div>';
          } else {
            cartItemsContainer.innerHTML = cartItems.map(item => `
              <div class="cart-item" data-id="${item.id}">
                <img src="${item.image}" alt="${item.name}" class="cart-item-image">
                <div class="cart-item-details">
                  <div class="cart-item-title">${item.name}</div>
                  <div class="cart-item-price">${item.price}</div>
                  <div class="quantity-control">
                    <button class="quantity-btn decrease-qty">-</button>
                    <input type="number" class="quantity-input" value="${item.quantity}" min="1">
                    <button class="quantity-btn increase-qty">+</button>
                  </div>
                </div>
                <button class="remove-item">&times;</button>
              </div>
            `).join('');
            
            // Add event listeners for quantity buttons and remove buttons
            this.bindCartItemEvents();
          }
          
          // Update total price
          if (cartTotal) {
            cartTotal.textContent = this.getTotalPrice().toFixed(2);
          }
        }
      },
      
      // Bind events for cart item controls
      bindCartItemEvents: function() {
        const cartItems = document.querySelectorAll('.cart-item');
        
        cartItems.forEach(item => {
          const productId = item.dataset.id;
          const removeBtn = item.querySelector('.remove-item');
          const decreaseBtn = item.querySelector('.decrease-qty');
          const increaseBtn = item.querySelector('.increase-qty');
          const quantityInput = item.querySelector('.quantity-input');
          
          // Remove item button
          removeBtn.addEventListener('click', () => {
            this.removeFromCart(productId);
          });
          
          // Decrease quantity button
          decreaseBtn.addEventListener('click', () => {
            const currentQty = parseInt(quantityInput.value);
            if (currentQty > 1) {
              quantityInput.value = currentQty - 1;
              this.updateQuantity(productId, currentQty - 1);
            }
          });
          
          // Increase quantity button
          increaseBtn.addEventListener('click', () => {
            const currentQty = parseInt(quantityInput.value);
            quantityInput.value = currentQty + 1;
            this.updateQuantity(productId, currentQty + 1);
          });
          
          // Quantity input change
          quantityInput.addEventListener('change', () => {
            let value = parseInt(quantityInput.value);
            if (isNaN(value) || value < 1) {
              value = 1;
              quantityInput.value = 1;
            }
            this.updateQuantity(productId, value);
          });
        });
      },
      
      // Bind events for "Add to Cart" buttons
      bindEvents: function() {
        // This will be called when "Add to Cart" buttons are dynamically added
        document.addEventListener('click', (e) => {
          if (e.target.classList.contains('add-to-cart-btn')) {
            e.preventDefault();
            
            // Get product information from the parent product card
            const productCard = e.target.closest('.product-card');
            if (productCard) {
              const productId = productCard.dataset.id || Date.now().toString();
              const productName = productCard.querySelector('.product-title')?.textContent || 'Product';
              const productPrice = productCard.querySelector('.product-price')?.textContent || '$0.00';
              const productImage = productCard.querySelector('.product-image')?.src || 'default-product.jpg';
              
              const product = {
                id: productId,
                name: productName,
                price: productPrice,
                image: productImage
              };
              
              this.addToCart(product);
              
              // Change button appearance
              e.target.innerHTML = 'Added to Cart';
              e.target.style.backgroundColor = '#4CAF50';
              e.target.style.pointerEvents = 'none';
              
              // Reset button after 2 seconds
              setTimeout(() => {
                e.target.innerHTML = 'Add to Cart';
                e.target.style.backgroundColor = '';
                e.target.style.pointerEvents = '';
              }, 2000);
              
              // Animate cart icon
              const cartIcon = document.querySelector('.nav-icons a:nth-child(2)');
              if (cartIcon) {
                cartIcon.style.animation = 'pulse 0.5s';
                setTimeout(() => {
                  cartIcon.style.animation = '';
                }, 500);
              }
            }
          }
        });
      }
    };
    
    // Initialize cart when DOM is fully loaded
    document.addEventListener('DOMContentLoaded', function() {
      ShoppingCart.init();
    });
    
    // Modified add-to-cart code to work with the new cart system
    function setupAddToCartButtons() {
      const addToCartButtons = document.querySelectorAll('.add-to-cart-btn');
      
      addToCartButtons.forEach(button => {
        button.addEventListener('click', function() {
          // Button styles are now handled by the cart system's event listener
          // This is just to ensure compatibility with your existing code
        });
      });
    }
    
    // Function to update the product results display
    function displayColorProducts(predictions, products, resultsDiv) {
      resultsDiv.innerHTML = '';
      const topPredictions = predictions.slice(0, 3);
      
      topPredictions.forEach(prediction => {
        const color = prediction.className.toLowerCase();
        const percentage = Math.round(prediction.probability * 100);
        
        // Filter products by color (case-insensitive)
        const colorProducts = products.filter(product =>
          product.classes.some(cls => cls.toLowerCase() === color)
        );
        
        if (colorProducts.length > 0) {
          const categorySection = document.createElement('div');
          categorySection.className = 'category-section';
          categorySection.innerHTML = `
            <h2>${color.charAt(0).toUpperCase() + color.slice(1)} Products (${percentage}% match)</h2>
            <div class="product-grid">
              ${colorProducts.map(product => `
                <div class="product-card" data-id="${product.id || Math.random().toString(36).substr(2, 9)}">
                  <img src="${product.image || 'default-product.jpg'}" alt="${product.name}" class="product-image">
                  <h3 class="product-title">${product.name}</h3>
                  <p class="product-price">${product.price}</p>
                  <p class="product-description">${product.description}</p>
                  <button class="add-to-cart-btn">Add to Cart</button>
                </div>
              `).join('')}
            </div>
          `;
          resultsDiv.appendChild(categorySection);
        }
      });
      
      // Setup event listeners for newly added buttons
      setupAddToCartButtons();
    }
    
    // Back to Home button functionality
    function backToHome() {
      // Hide results section
      const resultsSection = document.getElementById('resultsSection');
      resultsSection.classList.remove('visible');
      resultsSection.classList.add('hidden');
      
      setTimeout(() => {
        resultsSection.style.display = 'none';
        
        // Show other sections
        const sections = [
          document.getElementById('heroSection'),
          document.getElementById('storySection'),
          document.getElementById('colorMatchSection'),
          document.getElementById('benefitsSection')
        ];
        
        sections.forEach(section => {
          if (section) {
            section.style.display = 'block';
          }
        });
      }, 300);
    }</script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest/dist/tf.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@latest/dist/teachablemachine-image.min.js"></script>
  <script src="script.js"></script>
</body>
</html>